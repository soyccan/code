<link rel="stylesheet" type="text/css" href="style.css">
<div class="probcontent">
<center>
<h1>Game</h1>
T18入社考
</center>

兩個月的暑假，資訊社的各位每天在社部玩各種遊戲，各種桌遊也都玩膩了。
於是，在coding休息之際，社長SCCOTOZ決定主持一個簡單的數學遊戲，105級的學長們也參與其中，不過既然身為學長當然是懶惰的<span class="help-tip"><p>Perl之父Larry Wall: 懶惰是工程師的美德</p></span>&nbsp;&nbsp;，還要花力氣計算並搶答對學長們來說實在是太麻煩了，這種事情當然要交給電腦來做啦!
但距離105級的幹部們上次寫題目已經是好幾個月前的事了，大概連cin,scanf是甚麼都早已不記得，經過邪惡的百五幹部們一番討論後決定把這題目放在入社考(註一)，於是這個程式就變成T18的學弟們的任務了。

這個遊戲是這樣的:
社長會在白板上畫一個簡單多邊形(註二)和一條直線，大家必須算出這條直線在這個多邊行內部的長度有多長，我們定義當這條線剛好切在多邊形邊上時算是在多邊形內部。

<strong>輸入說明</strong>
第一行4個整數$a_x$,$a_y$,$b_x$,$b_y$，代表這條直線上相異的兩點X,Y座標
第二行一個正整數$N$，代表這是一個N邊形
接下來N行，每行兩個整數$X_i$,$Y_i$，代表N邊形依序排列的頂點座標，也就是說點$(X_i,Y_i)$和$(X_{i-1},Y_{i-1})$之間有一條邊。

<strong>輸出說明</strong>
輸出一個數字代表這條直線在多邊形內部的長度，四捨五入到小數點後第二位

<strong>輸入限制與子任務</strong>

$10^{-8} \leq a_x, a_y, b_x, b_y, X_i, Y_i \leq 10^8$
$3 \leq N \leq 10^5$

<table style="width:800px" class="probtable">
	<tr>
		<td>子任務</td><td>額外條件</td><td>配分</td>
	</tr>
	<tr>
		<td>子任務一</td><td>直線與X軸平行；多邊形必為矩形且四邊平行或垂直於X,Y軸</td><td>15%</td>
	</tr>
	<tr>
		<td>子任務二</td><td>直線與X軸平行；多邊形必為三角形</td><td>15%</td>
	</tr>
	<tr>
		<td>子任務三</td><td>直線與X軸平行；多邊形必為凸多邊形，且各邊不與直線平行或重合</td><td>10%</td>
	</tr>
	<tr>
		<td>子任務四</td><td>多邊形必為凸多邊形，且各邊不與直線平行或重合</td><td>20%</td>
	</tr>
	<tr>
		<td>子任務五</td><td>無</td><td>40%</td>
	</tr>
</table>

<strong>sample input 1</strong>
3 4 7 4
4
4 2
4 5
6 5
6 2

<strong>sample output 1</strong>
2.00

<strong>sample input 2</strong>
3 4 7 4
6
4 3
5 6
8 5
9 3
8 1
5 1

<strong>sample output 2</strong>
4.17

<strong>sample input 3</strong>
3 4 7 2
9
1 4
2 6
4 6
4 4
6 4
5 2
7 3
5 0
2 1

<strong>sample output 3</strong>
5.03

<strong>備註/提示</strong>
註一: 你可以假設這是我為什麼出這題的原因，不過有出過程式題目的人都知道出題絕對比寫題目累多了
註二:
   多邊形(Polygon): 由許多條邊、端點對著端點串接成一圈的圖形。
   簡單多邊形(Simple Polygon): 所有的邊都不相交，只有相鄰的邊可以相交於一個頂點。
   凹多邊形(Convave Polygon): 多邊形內部必有兩點連線，穿過多邊形外部。
   凸多邊形(Convex Polygon): 多邊形內部所有兩點連線，都在多邊形內部。

cout輸出四捨五入的方法:
   #include&lt;iomanip&gt;
   cout&lt;&lt;fixed&lt;&lt;setprecision(2)&lt;&lt;2.71828; //輸出2.72

範例說明:
   sample 1 (符合子任務一的條件)<img src="sample 1.png">
   sample 2 (符合子任務三的條件)  綠色部分為答案<img src="sample 2.png">
   sample 3 (無額外條件，子任務五)  綠色部分為答案<img src="sample 3.png">

<footer>								-domen111, SEP 2015</footer>

<div>